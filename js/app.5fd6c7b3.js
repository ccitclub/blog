(function(t){function e(e){for(var i,a,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&m.push(n[a][0]),n[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],i=!0,r=1;r<s.length;r++){var c=s[r];0!==n[c]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=s[0]))}return t}var i={},n={app:0},o=[];function a(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=i,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(s,i,function(e){return t[e]}.bind(null,i));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"1e81":function(t,e,s){"use strict";s("3c0a")},"3c0a":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),n=(s("7f10"),s("289d")),o=(s("5abe"),s("2591")),a={apiKey:"AIzaSyCq7c9DZR612xF2VHoobhp-pVdn7wV9OKc",authDomain:"ccitc-blogs.firebaseapp.com",projectId:"ccitc-blogs",storageBucket:"ccitc-blogs.appspot.com",messagingSenderId:"412367047980",appId:"1:412367047980:web:fa141df62234e3ed8fb089",measurementId:"G-2QT5GJSD9F"};o["a"].initializeApp(a),o["a"].analytics();var r=o["a"],c=s("2f62"),l=s("3317"),u=s("1da1"),d=(s("96cf"),{user:{},isLoggedIn:!1}),m={setUser:function(t,e){e?(t.user=e,t.isLoggedIn=!0,localStorage.setItem("isLoggedIn",!0)):(t.user={},t.isLoggedIn=!1,localStorage.setItem("isLoggedIn",!1))}},p={login:function(){return Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new r.auth.GoogleAuthProvider,t.next=3,r.auth().signInWithPopup(e);case 3:localStorage.setItem("isLoggedIn",!0);case 4:case"end":return t.stop()}}),t)})))()},logout:function(){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.auth().signOut();case 2:localStorage.setItem("isLoggedIn",!1),window.location.reload();case 4:case"end":return t.stop()}}),t)})))()}},f={namespaced:!0,state:d,mutations:m,actions:p},g=r.firestore();g.settings({timestampsInSnapshots:!0});var b,v=g,h={blogs:[],posts:[]},_={init:Object(l["a"])((function(t){var e=t.bindFirestoreRef;e("blogs",v.collection("blogs").orderBy("created_at"))})),showAllPosts:Object(l["a"])((function(t){var e=t.bindFirestoreRef;e("posts",v.collection("posts").where("approval","==",!0).orderBy("created_at"))}))},C={namespaced:!0,state:h,actions:_},y={users:[]},w={usersById:function(t){return t.users.reduce((function(t,e){return t[e.id]=e,t}),{})}},O={init:Object(l["a"])((function(t){var e=t.bindFirestoreRef;e("users",v.collection("users"))}))},k={namespaced:!0,state:y,actions:O,getters:w},j=(s("b0c0"),s("ac1f"),s("1276"),r.storage()),x=j,I=v.collection("posts");r.auth().onAuthStateChanged((function(t){t&&t.uid}));var R={blogs:{},posts:[],upvoted:!1},P={blog:function(t){return t.blogs[0]?t.blogs[0]:{}}},D={createPost:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(i=t.getters,n=I.doc(),e.id=n.id,e.vote=[],e.comment_no=0,e.approval=!0,e.blog_id=i.blog.id,e.user_id=r.auth().currentUser.uid,e.created_at=r.firestore.FieldValue.serverTimestamp(),e.updated_at=r.firestore.FieldValue.serverTimestamp(),!e.file){s.next=14;break}return console.log(e.file[0]),s.next=14,x.ref("post-image").child(e.user_id).child(e.id).child(e.file[0].name).put(e.file[0]).then((function(t){return t.ref.getDownloadURL()})).then((function(t){e.URL=t}));case 14:return delete e.file,s.prev=15,s.next=18,I.doc(e.id).set(e);case 18:s.next=23;break;case 20:s.prev=20,s.t0=s["catch"](15),console.error(s.t0);case 23:case"end":return s.stop()}}),s,null,[[15,20]])})))()},initBlog:Object(l["a"])((function(t,e){var s=t.bindFirestoreRef;s("blogs",v.collection("blogs").where("name","==",e))})),initPost:Object(l["a"])((function(t,e){var s=t.bindFirestoreRef;s("posts",I.where("blog_id","==",e).orderBy("created_at").where("approval","==",!0))})),deletePost:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.doc(e).delete();case 2:case"end":return t.stop()}}),t)})))()},IncrementComment:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:I.doc(e).update({comment_no:r.firestore.FieldValue.increment(1)});case 1:case"end":return t.stop()}}),t)})))()},decrementComment:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:I.doc(e).update({comment_no:r.firestore.FieldValue.increment(-1)}).catch((function(t){console.log(t)}));case 1:case"end":return t.stop()}}),t)})))()},deleteImage:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x.ref("post-image").child(e.user_id).child(e.id).child(e.URL.split("%2F")[3].split("?")[0]).delete();case 2:case"end":return t.stop()}}),t)})))()}},U={namespaced:!0,state:R,actions:D,getters:P,posts:I,imageURL:b},L=(s("caad"),s("2532"),s("a4d3"),s("e01a"),v.collection("posts")),B={userID:"",post:{},votes:!1},F={fullPost:Object(l["a"])((function(t,e){var s=t.bindFirestoreRef;s("post",L.where("id","==",e)),r.auth().onAuthStateChanged((function(t){t&&(B.userID=t.uid,L.doc(e).get().then((function(t){B.votes=t.data().vote.includes(B.userID)})))}))})),upvote:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!=B.userID&&L.doc(e).get().then((function(t){var s=t.data();s.vote.includes(B.userID)?(L.doc(e).update({vote:r.firestore.FieldValue.arrayRemove(B.userID)}),B.votes=!1):(L.doc(e).update({vote:r.firestore.FieldValue.arrayUnion(B.userID)}),B.votes=!0)}));case 1:case"end":return t.stop()}}),t)})))()},editPost:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L.doc(e.id).update({title:e.title,description:e.description,codes:e.codes,updated_at:r.firestore.FieldValue.serverTimestamp()}).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}));case 2:case"end":return t.stop()}}),t)})))()}},M={namespaced:!0,state:B,actions:F},S=v.collection("comments"),A={comments:{}},E={post:function(t){return t.post[0]?t.post[0]:{}}},$={doComment:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.id=S.doc().id,e.user_id=r.auth().currentUser.uid,e.commenter=r.auth().currentUser.displayName,e.created_at=r.firestore.FieldValue.serverTimestamp(),e.updated_at=r.firestore.FieldValue.serverTimestamp(),t.prev=5,t.next=8,S.doc(e.id).set(e);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](5),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[5,10]])})))()},initComment:Object(l["a"])((function(t,e){var s=t.bindFirestoreRef;s("comments",S.where("post_id","==",e).orderBy("created_at"))})),deleteComment:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.doc(e).delete();case 2:case"end":return t.stop()}}),t)})))()}},T={namespaced:!0,state:A,actions:$,getters:E,comments:S};i["a"].use(c["a"]);var N=new c["a"].Store({state:{},mutations:l["b"],actions:{},modules:{auth:f,blogs:C,users:k,blog:U,post:M,comments:T}});r.auth().onAuthStateChanged((function(t){if(t){t.user&&(t=t.user);var e={id:t.uid,name:t.displayName,image:t.photoURL,created_at:r.firestore.FieldValue.serverTimestamp()};v.collection("users").doc(e.id).set(e),N.commit("auth/setUser",e)}else N.commit("auth/setUser",null)}));var V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"navigation-bar display-flex"},[t._m(0),t.isLoggedIn||"false"!=t.local_storage?t._e():s("a",{staticClass:"button sign-in",on:{click:function(e){return t.login()}}},[t._v("Sign in with Google")]),t.isLoggedIn?s("section",[s("figure",{staticClass:"image is-48x48"},[s("img",{staticClass:"is-rounded",attrs:{src:t.user.image}})])]):t._e(),t.isLoggedIn?s("div",[s("a",{staticClass:"button is-dark log-in",on:{click:t.displayConfirm}},[t._v("Log Out")]),s("div",{staticClass:"confirmation"},[s("h4",{staticClass:"title is-4"},[t._v("Confirm log out?")]),s("button",{staticClass:"button sign-in",on:{click:function(e){return t.logout()}}},[t._v("Confirm")]),s("button",{staticClass:"button is-dark",on:{click:t.displayConfirm}},[t._v("No")])])]):t._e(),s("a",{staticClass:"hamburger",on:{click:t.displayNavbar}},[t._v("≡")]),s("div",{staticClass:"display-flex nav-container"},[t._m(1),t._m(2),t._m(3),s("div",{staticClass:"_nav-item more"},[s("a",{attrs:{id:"more",href:"#more"}},[t._v(" More "),s("span",[s("b-icon",{attrs:{pack:"fa",icon:"chevron-down",size:"is-small"}})],1)]),t._m(4)])])]),s("router-view",{staticClass:"container"})],1)},z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"brand"},[s("img",{attrs:{src:"https://d33wubrfki0l68.cloudfront.net/22b2a9e48ce2c6f9a54fcf91062c190eb7367ec7/a82ab/img/ccitclogo.png",alt:"ccitc-logo"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"_nav-item"},[s("a",{attrs:{href:"https://ccitc.team"}},[t._v(" Home ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"_nav-item"},[s("a",{attrs:{href:"https://ccitc.team/about"}},[t._v(" About ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"_nav-item"},[s("a",{attrs:{href:"https://ccitc.team/about"}},[t._v(" Executives ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"more-content"},[s("div",{staticClass:"_nav-item active"},[s("a",{attrs:{href:"#"}},[t._v(" Blog ")])]),s("div",{staticClass:"_nav-item"},[s("a",{attrs:{href:"https://ccitc.team/programs"}},[t._v(" Program ")])]),s("div",{staticClass:"_nav-item"},[s("a",{attrs:{href:"https://ccitc.team/recruitment"}},[t._v(" Join Us ")])])])}],q=s("5530"),Y=!1,G=!1,J=function(){window.innerWidth<=800&&(document.querySelector(".nav-container").style.display=Y?"none":"block",Y=!Y)},K=function(){document.querySelector(".confirmation").style.display=G?"none":"block",G=!G},W={data:function(){return{local_storage:localStorage.getItem("isLoggedIn")||"false"}},computed:Object(q["a"])({},Object(c["d"])("auth",["user","isLoggedIn"])),methods:Object(q["a"])(Object(q["a"])({},Object(c["b"])("auth",["login","logout"])),{},{displayNavbar:J,displayConfirm:K})},H=W,Q=(s("034f"),s("2877")),Z=Object(Q["a"])(H,V,z,!1,null,null,null),X=Z.exports,tt=s("8c4f"),et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("h1",{staticClass:"title blogs-heading"},[t._v("Blogs")]),s("div",{staticClass:"grid"},[s("aside",{staticClass:"menu"},[s("ul",{staticClass:"menu-list"},[s("p",{staticClass:"menu-label"},[t._v("Categories")]),t._l(t.blogs,(function(e){return s("li",{key:e.id},[s("strong",[s("router-link",{attrs:{to:{name:"Blog",params:{name:e.name}}}},[t._v(" "+t._s(e.name)+" ")])],1)])}))],2)]),s("div",{staticClass:"posts"},t._l(t.posts.slice().reverse(),(function(e,i){return s("div",{key:e.id,staticClass:"card is-4"},[e.URL?s("div",{staticClass:"card-image"},[s("figure",{staticClass:"posted-image"},[s("img",{attrs:{src:e.URL,alt:"Placeholder image"}})])]):t._e(),s("div",{staticClass:"card-content"},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-48x48"},[s("img",{attrs:{src:t.loadedUsersById[e.user_id].image,alt:"Avatar"}})])]),s("div",{staticClass:"media_content"},[s("p",{staticClass:"title is-4"},[t._v(t._s(e.title))]),s("p",{staticClass:"subtitle is-6"},[t._v(" "+t._s(t.loadedUsersById[e.user_id].name)+" "),s("br"),s("time",[t._v(t._s(t.getCreated(i)))])])])]),s("pre",{staticClass:"content"},[t._v("          "+t._s(e.description)+"\n          "),s("br"),t._v("\n        ")])]),s("div",{staticClass:"view"},[s("router-link",{staticClass:"button view-post submit",attrs:{to:{name:"post",params:{name:"blogs",post_id:e.id}}}},[t._v("View Post")]),s("span",{staticClass:"like-icon",class:{danger:e.vote.includes(t.user.id)}},[s("b-icon",{attrs:{pack:"fa",icon:"thumbs-up",size:"is-medium"}}),s("small",[t._v(t._s(e.vote.length))])],1),s("span",{staticClass:"like-icon"},[s("b-icon",{attrs:{pack:"fa",icon:"comment",size:"is-medium"}}),s("small",[t._v(t._s(e.comment_no))])],1)],1)])})),0)]),t._v(" "),s("b-notification",{staticClass:"position-fixed",attrs:{type:"is-danger is-light","aria-close-label":"Close notification"},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[t._v(" Your post has been submitted. You will be able to see your post if approved by the admin. ")])],1)},st=[],it=(s("fb6a"),{data:function(){return{displayDeleteConfirm:!1,isActive:!1}},mounted:function(){this.init(),this.initUsers(),this.showAllPosts()},computed:Object(q["a"])(Object(q["a"])(Object(q["a"])(Object(q["a"])({},Object(c["d"])("blogs",["blogs","posts"])),Object(c["d"])("auth",["isLoggedIn","user"])),Object(c["c"])({usersById:"users/usersById"})),{},{loadedUsersById:function(){var t=this;return this.posts.reduce((function(e,s){return e[s.user_id]=t.usersById[s.user_id]||{name:"...",image:"https://bulma.io/images/placeholders/48x48.png"},e}),{})}}),methods:Object(q["a"])(Object(q["a"])(Object(q["a"])(Object(q["a"])({},Object(c["b"])("blogs",["init","showAllPosts"])),Object(c["b"])("blog",["initBlog","deletePost"])),Object(c["b"])("users",{initUsers:"init"})),{},{getCreated:function(t){function e(t){var e=Math.floor((new Date-t)/1e3),s=Math.floor(e/31536e3);return s>1?"".concat(s," years"):(s=Math.floor(e/2592e3),s>1?"".concat(s," months"):(s=Math.floor(e/86400),s>1?"".concat(s," days"):(s=Math.floor(e/3600),s>1?"".concat(s," hours"):(s=Math.floor(e/60),s>1?"".concat(s," minutes"):"".concat(Math.floor(e||0)," seconds")))))}var s=this.posts.slice().reverse();return e(1e3*s[t].created_at.seconds)<0?"0 seconds ago":"".concat(e(1e3*s[t].created_at.seconds)," ago")}})}),nt=it,ot=(s("ea9c"),Object(Q["a"])(nt,et,st,!1,null,null,null)),at=ot.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"blog-type"},[s("h1",{staticClass:"title"},[t._v(t._s(t.blog.name))]),s("small",[t._v(t._s(t.blog.description))])]),t.isLoggedIn?s("button",{staticClass:"button submit",on:{click:function(e){t.showForm=!t.showForm}}},[s("div",[t._v("Create a post")]),s("b-icon",{attrs:{pack:"fa",icon:"plus-circle",size:"is-medium"}})],1):t._e(),s("form",{staticClass:"search_bar"},[s("b-input",{staticClass:"search_input",attrs:{placeholder:"Search"},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}})],1),t.showForm&&t.isLoggedIn?s("form",{staticClass:"post-form",on:{submit:function(e){return e.preventDefault(),t.onCreatePost(t.post)}}},[s("b-field",{attrs:{label:"Title:"}},[s("b-input",{attrs:{placeholder:"Title",required:""},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}})],1),s("b-field",{attrs:{label:"Description:"}},[s("b-input",{attrs:{type:"textarea",placeholder:"Description",required:""},model:{value:t.post.description,callback:function(e){t.$set(t.post,"description",e)},expression:"post.description"}})],1),s("div",{staticClass:"file-upload"},[s("p",[t._v("Add an image < 10MB (Optional)")]),s("input",{attrs:{type:"file",id:"upload",hidden:"",accept:"image/*"},on:{change:t.getImage}}),s("label",{attrs:{for:"upload"}},[t._v("Choose an image")]),t.post.file[0]?s("small",{staticStyle:{margin:"0 5px"}},[t._v(" "+t._s(t.MessageForFile)+" "),s("span",{staticClass:"cross",on:{click:t.removeImage}},[s("b-icon",{attrs:{pack:"fa",icon:"times-circle",size:"is-medium"}})],1)]):t._e()]),s("b-field",{attrs:{label:"If your post includes any codes, please paste them here. (Optional)"}},[s("b-input",{attrs:{type:"textarea"},model:{value:t.post.codes,callback:function(e){t.$set(t.post,"codes",e)},expression:"post.codes"}})],1),s("button",{staticClass:"button submit"},[t._v("Submit")])],1):t._e(),s("div",{staticClass:"posts"},t._l(t.filteredPosts.slice().reverse(),(function(e,i){return s("div",{key:e.id,staticClass:"card is-4"},[e.URL?s("div",{staticClass:"card-image"},[s("figure",{staticClass:"posted-image"},[s("img",{attrs:{src:e.URL,alt:"Placeholder image"}})])]):t._e(),s("div",{staticClass:"card-content"},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-48x48"},[s("img",{attrs:{src:t.loadedUsersById[e.user_id].image,alt:"Avatar"}})])]),s("div",{staticClass:"media_content"},[s("p",{staticClass:"title is-4"},[t._v(t._s(e.title))]),s("p",{staticClass:"subtitle is-6"},[t._v(" "+t._s(t.loadedUsersById[e.user_id].name)+" "),s("br"),s("time",[t._v(t._s(t.getCreated(i)))])])])]),s("pre",{staticClass:"content"},[t._v("          "+t._s(e.description)+"\n          "),s("br"),t._v("\n        ")])]),s("div",{staticClass:"view"},[s("router-link",{staticClass:"button view-post submit",attrs:{to:{name:"post",params:{name:t.$route.params.name,post_id:e.id}}}},[t._v("View Post")]),s("span",{staticClass:"like-icon",class:{danger:e.vote.includes(t.user.id)}},[s("b-icon",{attrs:{pack:"fa",icon:"thumbs-up",size:"is-medium"}}),s("small",[t._v(t._s(e.vote.length))])],1),s("span",{staticClass:"like-icon"},[s("b-icon",{attrs:{pack:"fa",icon:"comment",size:"is-medium"}}),s("small",[t._v(t._s(e.comment_no))])],1)],1)])})),0),s("b-notification",{staticClass:"position-fixed",attrs:{type:"is-danger is-light","aria-close-label":"Close notification"},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[t._v(" Your post has been submitted. ")])],1)},ct=[],lt=(s("4d63"),s("25f0"),s("4de4"),s("466d"),{data:function(){return{MessageForFile:"",selectedPost:"",showForm:!1,searchTerm:"",isActive:!1,post:{file:[],title:"",description:"",codes:"",URL:""}}},mounted:function(){this.initUsers(),this.initBlog(this.$route.params.name)},watch:{"$route.params.name":function(){this.initBlog(this.$route.params.name)},blog:function(){this.blog.id&&this.initPost(this.blog.id)}},computed:Object(q["a"])(Object(q["a"])(Object(q["a"])(Object(q["a"])({},Object(c["d"])("blog",["posts","imageURL"])),Object(c["d"])("auth",["isLoggedIn","user"])),Object(c["c"])({blog:"blog/blog",usersById:"users/usersById"})),{},{loadedUsersById:function(){var t=this;return this.posts.reduce((function(e,s){return e[s.user_id]=t.usersById[s.user_id]||{name:"Loading...",image:"https://bulma.io/images/placeholders/48x48.png"},e}),{})},filteredPosts:function(){if(this.searchTerm){var t=new RegExp(this.searchTerm,"gi");return this.posts.filter((function(e){return(e.title+e.description).match(t)}))}return this.posts}}),methods:Object(q["a"])(Object(q["a"])(Object(q["a"])({},Object(c["b"])("blog",["createPost","initBlog","initPost","uploadImage"])),Object(c["b"])("users",{initUsers:"init"})),{},{onCreatePost:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.post.title&&t.post.description&&(t.createPost(t.post),t.post={file:[],title:"",description:""},t.showForm=!1,t.isActive=!t.isActive);case 1:case"end":return e.stop()}}),e)})))()},getCreated:function(t){function e(t){var e=Math.floor((new Date-t)/1e3),s=Math.floor(e/31536e3);return s>1?"".concat(s," years"):(s=Math.floor(e/2592e3),s>1?"".concat(s," months"):(s=Math.floor(e/86400),s>1?"".concat(s," days"):(s=Math.floor(e/3600),s>1?"".concat(s," hours"):(s=Math.floor(e/60),s>1?"".concat(s," minutes"):"".concat(Math.floor(e||0)," seconds")))))}var s=this.posts.slice().reverse();return e(1e3*s[t].created_at.seconds)<0?"0 seconds ago":"".concat(e(1e3*s[t].created_at.seconds)," ago")},getImage:function(t){t.target.files&&(console.log(t.target.files[0]),t.target.files[0].size<=10485760?(this.post.file.push(t.target.files[0]),this.MessageForFile=t.target.files[0].name):this.MessageForFile="Image size exceeded 10MB")},removeImage:function(){this.post.file=[],this.MessageForFile=""}})}),ut=lt,dt=(s("9d5a"),Object(Q["a"])(ut,rt,ct,!1,null,null,null)),mt=dt.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"post-container"},[t.post[0]?s("div",{staticClass:"full_post"},[t.user&&t.user.id==t.post[0].user_id?s("div",{staticClass:"options"},[s("button",{staticClass:"button is-danger",on:{click:t.clickedEdit}},[t._v("Edit")]),s("button",{staticClass:"button is-dark",on:{click:function(e){t.displayDeleteConfirm=!t.displayDeleteConfirm}}},[t._v(" Delete ")])]):t._e(),t.ShowEdit&&t.isLoggedIn?s("div",{staticClass:"edit-post"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.onEditPost(t.updatedPost)}}},[s("b-field",{attrs:{label:"Title:"}},[s("b-input",{attrs:{placeholder:"Title",required:""},model:{value:t.updatedPost.title,callback:function(e){t.$set(t.updatedPost,"title",e)},expression:"updatedPost.title"}})],1),s("b-field",{attrs:{label:"Description:"}},[s("b-input",{attrs:{type:"textarea",placeholder:"Description",required:""},model:{value:t.updatedPost.description,callback:function(e){t.$set(t.updatedPost,"description",e)},expression:"updatedPost.description"}})],1),s("b-field",{attrs:{label:"If your post includes any codes, please paste them here. (Optional)"}},[s("b-input",{attrs:{type:"textarea"},model:{value:t.updatedPost.codes,callback:function(e){t.$set(t.updatedPost,"codes",e)},expression:"updatedPost.codes"}})],1),s("button",{staticClass:"button submit"},[t._v("Submit")]),s("span",{staticClass:"button cancel-edit is-dark",on:{click:function(e){t.confirmCancel=!0}}},[t._v("Cancel")])],1),t.confirmCancel?s("div",{staticClass:"block fixed delete-confirm"},[s("h1",{staticClass:"title is-6"},[t._v("Cancel editing?")]),s("button",{staticClass:"button yes",on:{click:t.cancelEdit}},[t._v("Yes")]),s("button",{staticClass:"button is-dark",on:{click:function(e){t.confirmCancel=!1}}},[t._v(" No ")])]):t._e()]):t._e(),t.displayDeleteConfirm?s("div",{staticClass:"fixed delete-confirm"},[s("h1",{staticClass:"title is-4"},[t._v("Are you sure you want to delete your post?")]),s("div",[s("button",{staticClass:"button yes",on:{click:function(e){return t.onDeletePost(t.post[0].id)}}},[t._v("Yes")]),s("button",{staticClass:"button is-dark",on:{click:function(e){t.displayDeleteConfirm=!t.displayDeleteConfirm}}},[t._v(" No ")])])]):t._e(),s("h1",{staticClass:"title text-center"},[t._v(t._s(t.post[0].title))]),t.post[0].URL?s("div",{staticClass:"card-image"},[s("figure",{staticClass:"posted-image"},[s("img",{staticClass:"full-img",attrs:{src:t.post[0].URL,alt:"ccitc blog-post image"}})])]):t._e(),s("pre",{staticClass:"content justify"},[t._v("      "+t._s(t.post[0].description.trim())+"\n    ")]),t.post[0].codes?s("div",{staticClass:"posted-codes"},[s("pre",[t._v(t._s(t.post[0].codes))])]):t._e(),s("div",{staticClass:"flex posted-by"},[s("span",[t._v("Posted by: ")]),s("figure",{staticClass:"image is-48x48"},[s("img",{attrs:{src:t.loadedUsersById[t.post[0].user_id].image,alt:"Avatar"}})]),s("p",[t._v(t._s(t.loadedUsersById[t.post[0].user_id].name))])]),s("div",{staticClass:"flex posted-at"},[s("time",[t._v(t._s(t.getCreated(t.post[0].created_at.seconds)))])]),s("hr"),s("div",{staticClass:"react_comment"},[s("div",{staticClass:"react"},[s("button",{staticClass:"button upvote",class:{"is-danger":t.votes},attrs:{disabled:!t.isLoggedIn},on:{click:function(e){return t.onUpvote()}}},[s("b-icon",{attrs:{pack:"fa",icon:"thumbs-up",size:"is-medium"}})],1),s("span",[t._v(t._s(t.post[0].vote.length))])]),s("form",{staticClass:"comment",on:{submit:function(e){return e.preventDefault(),t.onComment(t.comment)}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment.content,expression:"comment.content"}],attrs:{name:"comment",placeholder:"Write comment"},domProps:{value:t.comment.content},on:{input:function(e){e.target.composing||t.$set(t.comment,"content",e.target.value)}}}),s("button",{staticClass:"button is-dark",attrs:{disabled:!t.isLoggedIn}},[s("b-icon",{attrs:{pack:"fa",icon:"location-arrow",size:"is-medium"}})],1)])])]):t._e(),t.comments?s("div",{staticClass:"comment-section"},t._l(t.comments,(function(e){return s("pre",{key:e.id,staticClass:"_comment"},[t._v("      "),s("small",{staticClass:"commenter"},[t._v(t._s(e.commenter))]),t._v("\n      "),s("time",[t._v(t._s(t.getCreated(e.created_at.seconds)))]),t._v("\n      "),s("p",[t._v(t._s(e.content))]),t._v("\n      "),s("div",{staticClass:"delete-comment"},[t._v("\n        "),!t.user||t.user.id!=e.user_id&&"4aRnFohAFYQicirBV3Aa15rkKry2"!=t.user.id?t._e():s("button",{staticClass:"button is-small is-dark",on:{click:function(s){return t.onDisplayDeleteComment(e.id)}}},[t._v("\n          Delete\n        ")]),t._v("\n      ")]),t._v("\n      "),s("hr"),t._v("\n      "),t.displayDeleteComment&&t.selectedComment==e.id?s("div",{staticClass:"confirmDelete"},[t._v("\n        Are you sure you want delete this comment?\n        "),s("div",{staticClass:"buttons are-small"},[t._v("\n          "),s("button",{staticClass:"button is-danger is-outlined",on:{click:function(s){return t.onDeleteComment(e.id)}}},[t._v("\n            Yes\n          ")]),t._v("\n          "),s("button",{staticClass:"button is-success is-outlined",on:{click:function(e){t.displayDeleteComment=!1}}},[t._v("\n            No\n          ")]),t._v("\n        ")]),t._v("\n      ")]):t._e(),t._v("\n    ")])})),0):t._e(),s("b-notification",{staticClass:"position-fixed",attrs:{"auto-close":"",type:"is-dark is-outlined","aria-close-label":"Close notification"},model:{value:t.Notify,callback:function(e){t.Notify=e},expression:"Notify"}},[t._v(" "+t._s(t.notification_msg)+" ")])],1)},ft=[],gt=(s("159b"),s("498a"),{data:function(){return{Notify:!1,notification_msg:"",ShowEdit:!1,confirmCancel:!1,selectedComment:"",displayDeleteConfirm:!1,displayDeleteComment:!1,updatedPost:{title:"",description:"",codes:"",id:""},comment:{post_id:"",content:""}}},mounted:function(){this.initUsers(),this.fullPost(this.$route.params.post_id)},watch:{post:function(){this.post[0]&&(this.initComment(this.post[0].id),this.comment.post_id=this.post[0].id)}},computed:Object(q["a"])(Object(q["a"])(Object(q["a"])(Object(q["a"])(Object(q["a"])({},Object(c["c"])({usersById:"users/usersById",post:"comments/post"})),Object(c["d"])("auth",["isLoggedIn","user"])),Object(c["d"])("post",["post","votes"])),Object(c["d"])("comments",["comments"])),{},{loadedUsersById:function(){var t=this;return this.post.reduce((function(e,s){return e[s.user_id]=t.usersById[s.user_id]?t.usersById[s.user_id]:{name:"  Loading...",image:"https://bulma.io/images/placeholders/48x48.png"},e}),{})}}),methods:Object(q["a"])(Object(q["a"])(Object(q["a"])(Object(q["a"])(Object(q["a"])({},Object(c["b"])("post",["fullPost","upvote","editPost"])),Object(c["b"])("blog",["deletePost","IncrementComment","decrementComment","deleteImage"])),Object(c["b"])("users",{initUsers:"init"})),Object(c["b"])("comments",["doComment","initComment","deleteComment"])),{},{onDeletePost:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e.post[0].URL||!e.post[0].URL.includes("https://firebasestorage.googleapis.com")){s.next=3;break}return s.next=3,e.deleteImage(e.post[0]);case 3:e.displayDeleteConfirm=!1,e.comments.forEach((function(t){e.deleteComment(t.id)})),e.deletePost(t),e.Notify=!0,e.notification_msg="Post has been deleted";case 8:case"end":return s.stop()}}),s)})))()},onComment:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.comment.content.trim()&&(t.doComment(t.comment),t.comment={content:"",post_id:t.post[0].id},t.IncrementComment(t.post[0].id));case 1:case"end":return e.stop()}}),e)})))()},onDisplayDeleteComment:function(t){this.selectedComment=t,this.displayDeleteComment=!this.displayDeleteComment},onDeleteComment:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.Notify=!0,s.prev=1,e.displayDeleteComment=!e.displayDeleteComment,s.next=5,e.deleteComment(t);case 5:e.notification_msg="comment has deleted",e.decrementComment(e.post[0].id),s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](1),console.log(s.t0);case 12:case"end":return s.stop()}}),s,null,[[1,9]])})))()},onUpvote:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.upvote(t.post[0].id);case 1:case"end":return e.stop()}}),e)})))()},getCreated:function(t){function e(t){var e=Math.floor((new Date-t)/1e3),s=Math.floor(e/31536e3);return s>1?"".concat(s," years"):(s=Math.floor(e/2592e3),s>1?"".concat(s," months"):(s=Math.floor(e/86400),s>1?"".concat(s," days"):(s=Math.floor(e/3600),s>1?"".concat(s," hours"):(s=Math.floor(e/60),s>1?"".concat(s," minutes"):"".concat(Math.floor(e||0)," seconds")))))}return e(1e3*t)<0?"0 seconds ago":"".concat(e(1e3*t)," ago")},clickedEdit:function(){this.ShowEdit=!0,this.updatedPost.id=this.post[0].id,this.updatedPost.title=this.post[0].title,this.updatedPost.description=this.post[0].description,this.updatedPost.codes=this.post[0].codes,this.updatedPost.URL=this.post[0].URL},cancelEdit:function(){this.ShowEdit=!1,this.confirmCancel=!1},onEditPost:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e.post[0].title.trim()!==t.title.trim()||e.post[0].description.trim()!==t.description.trim()||e.post[0].URL.trim()!==t.URL.trim()||e.post[0].codes.trim()!==t.codes.trim()){e.Notify=!0;try{e.editPost(t),e.notification_msg="Post has been updated"}catch(i){e.notification_msg=i}finally{e.ShowEdit=!1}}else e.Notify=!0,e.notification_msg="No changes were made";case 1:case"end":return s.stop()}}),s)})))()}})}),bt=gt,vt=(s("1e81"),Object(Q["a"])(bt,pt,ft,!1,null,null,null)),ht=vt.exports;i["a"].use(tt["a"]);var _t=[{path:"/",name:"Blogs",component:at},{path:"/b/:name",name:"Blog",component:mt},{path:"/b/:name/:post_id",name:"post",component:ht}],Ct=new tt["a"]({mode:"history",base:"/",routes:_t}),yt=Ct;i["a"].use(n["a"]),i["a"].config.productionTip=!1,new i["a"]({router:yt,store:N,render:function(t){return t(X)}}).$mount("#app")},"85ec":function(t,e,s){},"9d5a":function(t,e,s){"use strict";s("b198")},ae07:function(t,e,s){},b198:function(t,e,s){},ea9c:function(t,e,s){"use strict";s("ae07")}});
//# sourceMappingURL=app.5fd6c7b3.js.map