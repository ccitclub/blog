(function(t){function e(e){for(var i,o,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,r=1;r<s.length;r++){var c=s[r];0!==a[c]&&(i=!1)}i&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var i={},a={app:0},n=[];function o(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=i,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(s,i,function(e){return t[e]}.bind(null,i));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0156":function(t,e,s){"use strict";s("44bd")},"034f":function(t,e,s){"use strict";s("85ec")},"1e81":function(t,e,s){"use strict";s("3c0a")},"3c0a":function(t,e,s){},"44bd":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),a=(s("7f10"),s("289d")),n=(s("5abe"),s("2591")),o={apiKey:"AIzaSyCq7c9DZR612xF2VHoobhp-pVdn7wV9OKc",authDomain:"ccitc-blogs.firebaseapp.com",projectId:"ccitc-blogs",storageBucket:"ccitc-blogs.appspot.com",messagingSenderId:"412367047980",appId:"1:412367047980:web:fa141df62234e3ed8fb089",measurementId:"G-2QT5GJSD9F"};n["a"].initializeApp(o),n["a"].analytics();var r=n["a"],c=s("2f62"),l=s("3317"),u=s("1da1"),d=(s("96cf"),{user:{},isLoggedIn:!1}),m={setUser:function(t,e){e?(t.user=e,t.isLoggedIn=!0,localStorage.setItem("isLoggedIn",!0)):(t.user={},t.isLoggedIn=!1,localStorage.setItem("isLoggedIn",!1))}},p={login:function(){return Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new r.auth.GoogleAuthProvider,t.next=3,r.auth().signInWithPopup(e);case 3:localStorage.setItem("isLoggedIn",!0);case 4:case"end":return t.stop()}}),t)})))()},logout:function(){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.auth().signOut();case 2:localStorage.setItem("isLoggedIn",!1),window.location.reload();case 4:case"end":return t.stop()}}),t)})))()}},f={namespaced:!0,state:d,mutations:m,actions:p},v=r.firestore();v.settings({timestampsInSnapshots:!0});var b,h=v,g={blogs:[],posts:[]},_={init:Object(l["a"])((function(t){var e=t.bindFirestoreRef;e("blogs",h.collection("blogs").orderBy("created_at"))})),showAllPosts:Object(l["a"])((function(t){var e=t.bindFirestoreRef;e("posts",h.collection("posts").where("approval","==",!0).orderBy("created_at"))}))},C={namespaced:!0,state:g,actions:_},y={users:[]},w={usersById:function(t){return t.users.reduce((function(t,e){return t[e.id]=e,t}),{})}},k={init:Object(l["a"])((function(t){var e=t.bindFirestoreRef;e("users",h.collection("users"))}))},O={namespaced:!0,state:y,actions:k,getters:w},j=(s("b0c0"),s("99af"),s("ac1f"),s("1276"),r.storage()),x=j,I=h.collection("posts"),P={blogs:{},posts:[],upvoted:!1},R={blog:function(t){return t.blogs[0]?t.blogs[0]:{}}},D={createPost:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var i,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(i=t.getters,a=I.doc(),e.id=a.id,e.vote=[],e.comment_no=0,e.approval=!1,e.blog_id=i.blog.id,e.user_id=r.auth().currentUser.uid,e.created_at=r.firestore.FieldValue.serverTimestamp(),e.updated_at=r.firestore.FieldValue.serverTimestamp(),!e.file[0]){s.next=14;break}return console.log(e.file[0]),s.next=14,x.ref("post-image").child(e.user_id).child(e.id).child(e.file[0].name).put(e.file[0]).then((function(t){return t.ref.getDownloadURL()})).then((function(t){e.URL=t}));case 14:return delete e.file,s.prev=15,s.next=18,I.doc(e.id).set(e);case 18:s.next=23;break;case 20:s.prev=20,s.t0=s["catch"](15),console.error(s.t0);case 23:case"end":return s.stop()}}),s,null,[[15,20]])})))()},initBlog:Object(l["a"])((function(t,e){var s=t.bindFirestoreRef;s("blogs",h.collection("blogs").where("name","==",e))})),initPost:Object(l["a"])((function(t,e){var s=t.bindFirestoreRef;s("posts",I.where("blog_id","==",e).orderBy("created_at").where("approval","==",!0))})),deletePost:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.doc(e).delete();case 2:case"end":return t.stop()}}),t)})))()},IncrementComment:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:I.doc(e).update({comment_no:r.firestore.FieldValue.increment(1)});case 1:case"end":return t.stop()}}),t)})))()},decrementComment:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:I.doc(e).update({comment_no:r.firestore.FieldValue.increment(-1)}).catch((function(t){console.log(t)}));case 1:case"end":return t.stop()}}),t)})))()},deleteImage:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x.ref("post-image").child("".concat(e.user_id,"/").concat(e.id,"/").concat(e.URL.split("%2F")[3].split("?")[0])).delete().catch((function(t){return console.log(t)}));case 2:case"end":return t.stop()}}),t)})))()}},U={namespaced:!0,state:P,actions:D,getters:R,posts:I,imageURL:b},L=(s("caad"),s("2532"),s("a4d3"),s("e01a"),h.collection("posts")),B={userID:"",post:{},votes:!1},M={fullPost:Object(l["a"])((function(t,e){var s=t.bindFirestoreRef;s("post",L.where("id","==",e)),r.auth().onAuthStateChanged((function(t){t&&(B.userID=t.uid,L.doc(e).get().then((function(t){B.votes=t.data().vote.includes(B.userID)})))}))})),upvote:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!=B.userID&&L.doc(e).get().then((function(t){var s=t.data();s.vote.includes(B.userID)?(L.doc(e).update({vote:r.firestore.FieldValue.arrayRemove(B.userID)}),B.votes=!1):(L.doc(e).update({vote:r.firestore.FieldValue.arrayUnion(B.userID)}),B.votes=!0)}));case 1:case"end":return t.stop()}}),t)})))()},editPost:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L.doc(e.id).update({title:e.title,description:e.description,codes:e.codes,updated_at:r.firestore.FieldValue.serverTimestamp()}).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}));case 2:case"end":return t.stop()}}),t)})))()}},A={namespaced:!0,state:B,actions:M},F=h.collection("comments"),S={comments:{}},E={post:function(t){return t.post[0]?t.post[0]:{}}},$={doComment:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.id=F.doc().id,e.user_id=r.auth().currentUser.uid,e.commenter=r.auth().currentUser.displayName,e.created_at=r.firestore.FieldValue.serverTimestamp(),e.updated_at=r.firestore.FieldValue.serverTimestamp(),t.prev=5,t.next=8,F.doc(e.id).set(e);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](5),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[5,10]])})))()},initComment:Object(l["a"])((function(t,e){var s=t.bindFirestoreRef;s("comments",F.where("post_id","==",e).orderBy("created_at"))})),deleteComment:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F.doc(e).delete();case 2:case"end":return t.stop()}}),t)})))()}},V={namespaced:!0,state:S,actions:$,getters:E,comments:F},z=h.collection("admin"),T=h.collection("posts"),N={admin:{},posts:[]},W={initAdmin:Object(l["a"])((function(t){var e,s=t.bindFirestoreRef;r.auth().onAuthStateChanged((function(t){t&&(e=r.auth().currentUser.uid),s("admin",h.collection("admin").where("user_id","==",e))}))})),initPendingPost:Object(l["a"])((function(t){var e=t.bindFirestoreRef;e("posts",T.orderBy("created_at").where("approval","==",!1))})),approvePost:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:T.doc(e).update({approval:!0}).catch((function(t){console.log(t)}));case 1:case"end":return t.stop()}}),t)})))()}},K={namespaced:!0,state:N,actions:W,admin:z};i["a"].use(c["a"]);var q=new c["a"].Store({state:{},mutations:l["b"],actions:{},modules:{auth:f,blogs:C,users:O,blog:U,post:A,comments:V,admin:K}});r.auth().onAuthStateChanged((function(t){if(t){t.user&&(t=t.user);var e={id:t.uid,name:t.displayName,image:t.photoURL,created_at:r.firestore.FieldValue.serverTimestamp()};h.collection("users").doc(e.id).set(e),q.commit("auth/setUser",e)}else q.commit("auth/setUser",null)}));var Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"navigation-bar display-flex"},[t._m(0),t.isLoggedIn||"false"!=t.local_storage?t._e():s("a",{staticClass:"button sign-in",on:{click:function(e){return t.login()}}},[t._v("Sign in with Google")]),t.isLoggedIn?s("section",[s("figure",{staticClass:"image is-48x48"},[s("img",{staticClass:"is-rounded",attrs:{src:t.user.image}})])]):t._e(),t.isLoggedIn?s("div",[s("a",{staticClass:"button is-dark log-in",on:{click:t.displayConfirm}},[t._v("Log Out")]),s("div",{staticClass:"confirmation"},[s("h4",{staticClass:"title is-4"},[t._v("Confirm log out?")]),s("button",{staticClass:"button sign-in",on:{click:function(e){return t.logout()}}},[t._v("Confirm")]),s("button",{staticClass:"button is-dark",on:{click:t.displayConfirm}},[t._v("No")])])]):t._e(),s("a",{staticClass:"hamburger",on:{click:t.displayNavbar}},[t._v("â‰¡")]),s("div",{staticClass:"display-flex nav-container"},[t._m(1),t._m(2),t._m(3),s("div",{staticClass:"_nav-item more"},[s("a",{attrs:{id:"more",href:"#more"}},[t._v(" More "),s("span",[s("b-icon",{attrs:{pack:"fa",icon:"chevron-down",size:"is-small"}})],1)]),t._m(4)])])]),t.user&&"1knQIaLmRpVb0BDpomw5Kcz0rsW2"==t.user.id?s("div",{staticClass:"container",staticStyle:{"text-align":"end","margin-bottom":"10px"}},[s("router-link",{staticClass:"button is-black",attrs:{to:{name:"admin"}}},[t._v("Admin")])],1):t._e(),s("router-view",{staticClass:"container"})],1)},Y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"brand"},[s("img",{attrs:{src:"https://d33wubrfki0l68.cloudfront.net/22b2a9e48ce2c6f9a54fcf91062c190eb7367ec7/a82ab/img/ccitclogo.png",alt:"ccitc-logo"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"_nav-item"},[s("a",{attrs:{href:"https://ccitc.team"}},[t._v(" Home ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"_nav-item"},[s("a",{attrs:{href:"https://ccitc.team/about"}},[t._v(" About ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"_nav-item"},[s("a",{attrs:{href:"https://ccitc.team/about"}},[t._v(" Executives ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"more-content"},[s("div",{staticClass:"_nav-item active"},[s("a",{attrs:{href:"#"}},[t._v(" Blog ")])]),s("div",{staticClass:"_nav-item"},[s("a",{attrs:{href:"https://ccitc.team/programs"}},[t._v(" Program ")])]),s("div",{staticClass:"_nav-item"},[s("a",{attrs:{href:"https://ccitc.team/recruitment"}},[t._v(" Join Us ")])])])}],G=s("5530"),J=!1,H=!1,Z=function(){window.innerWidth<=800&&(document.querySelector(".nav-container").style.display=J?"none":"block",J=!J)},X=function(){document.querySelector(".confirmation").style.display=H?"none":"block",H=!H},tt={data:function(){return{local_storage:localStorage.getItem("isLoggedIn")||"false"}},computed:Object(G["a"])({},Object(c["d"])("auth",["user","isLoggedIn"])),methods:Object(G["a"])(Object(G["a"])({},Object(c["b"])("auth",["login","logout"])),{},{displayNavbar:Z,displayConfirm:X})},et=tt,st=(s("034f"),s("2877")),it=Object(st["a"])(et,Q,Y,!1,null,null,null),at=it.exports,nt=s("8c4f"),ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("h1",{staticClass:"title blogs-heading"},[t._v("Blogs")]),s("div",{staticClass:"grid"},[s("aside",{staticClass:"menu"},[s("ul",{staticClass:"menu-list"},[s("p",{staticClass:"menu-label"},[t._v("Categories")]),t._l(t.blogs,(function(e){return s("li",{key:e.id},[s("strong",[s("router-link",{attrs:{to:{name:"Blog",params:{name:e.name}}}},[t._v(" "+t._s(e.name)+" ")])],1)])}))],2)]),s("div",{staticClass:"posts"},t._l(t.posts.slice().reverse(),(function(e,i){return s("div",{key:e.id,staticClass:"card is-4"},[e.URL?s("div",{staticClass:"card-image"},[s("figure",{staticClass:"posted-image"},[s("img",{attrs:{src:e.URL,alt:"Placeholder image"}})])]):t._e(),s("div",{staticClass:"card-content"},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-48x48"},[s("img",{attrs:{src:t.loadedUsersById[e.user_id].image,alt:"Avatar"}})])]),s("div",{staticClass:"media_content"},[s("p",{staticClass:"title is-4"},[t._v(t._s(e.title))]),s("p",{staticClass:"subtitle is-6"},[t._v(" "+t._s(t.loadedUsersById[e.user_id].name)+" "),s("br"),s("time",[t._v(t._s(t.getCreated(i)))])])])]),s("pre",{staticClass:"content"},[t._v("          "+t._s(e.description)+"\n          "),s("br"),t._v("\n        ")])]),s("div",{staticClass:"view"},[s("router-link",{staticClass:"button view-post submit",attrs:{to:{name:"post",params:{name:"blogs",post_id:e.id}}}},[t._v("View Post")]),s("span",{staticClass:"like-icon",class:{danger:e.vote.includes(t.user.id)}},[s("b-icon",{attrs:{pack:"fa",icon:"thumbs-up",size:"is-medium"}}),s("small",[t._v(t._s(e.vote.length))])],1),s("span",{staticClass:"like-icon"},[s("b-icon",{attrs:{pack:"fa",icon:"comment",size:"is-medium"}}),s("small",[t._v(t._s(e.comment_no))])],1)],1)])})),0)]),t._v(" "),s("b-notification",{staticClass:"position-fixed",attrs:{type:"is-danger is-light","aria-close-label":"Close notification"},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[t._v(" Your post has been submitted. You will be able to see your post if approved by the admin. ")])],1)},rt=[],ct=(s("fb6a"),{data:function(){return{displayDeleteConfirm:!1,isActive:!1}},mounted:function(){this.init(),this.initUsers(),this.showAllPosts()},computed:Object(G["a"])(Object(G["a"])(Object(G["a"])(Object(G["a"])({},Object(c["d"])("blogs",["blogs","posts"])),Object(c["d"])("auth",["isLoggedIn","user"])),Object(c["c"])({usersById:"users/usersById"})),{},{loadedUsersById:function(){var t=this;return this.posts.reduce((function(e,s){return e[s.user_id]=t.usersById[s.user_id]||{name:"...",image:"https://bulma.io/images/placeholders/48x48.png"},e}),{})}}),methods:Object(G["a"])(Object(G["a"])(Object(G["a"])(Object(G["a"])({},Object(c["b"])("blogs",["init","showAllPosts"])),Object(c["b"])("blog",["initBlog","deletePost"])),Object(c["b"])("users",{initUsers:"init"})),{},{getCreated:function(t){function e(t){var e=Math.floor((new Date-t)/1e3),s=Math.floor(e/31536e3);return s>1?"".concat(s," years"):(s=Math.floor(e/2592e3),s>1?"".concat(s," months"):(s=Math.floor(e/86400),s>1?"".concat(s," days"):(s=Math.floor(e/3600),s>1?"".concat(s," hours"):(s=Math.floor(e/60),s>1?"".concat(s," minutes"):"".concat(Math.floor(e||0)," seconds")))))}var s=this.posts.slice().reverse();return e(1e3*s[t].created_at.seconds)<0?"0 seconds ago":"".concat(e(1e3*s[t].created_at.seconds)," ago")}})}),lt=ct,ut=(s("ea9c"),Object(st["a"])(lt,ot,rt,!1,null,null,null)),dt=ut.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"blog-type"},[s("h1",{staticClass:"title"},[t._v(t._s(t.blog.name))]),s("small",[t._v(t._s(t.blog.description))])]),t.isLoggedIn?s("button",{staticClass:"button submit",on:{click:function(e){t.showForm=!t.showForm}}},[s("div",[t._v("Create a post")]),s("b-icon",{attrs:{pack:"fa",icon:"plus-circle",size:"is-medium"}})],1):t._e(),s("form",{staticClass:"search_bar"},[s("b-input",{staticClass:"search_input",attrs:{placeholder:"Search"},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}})],1),t.showForm&&t.isLoggedIn?s("form",{staticClass:"post-form",on:{submit:function(e){return e.preventDefault(),t.onCreatePost(t.post)}}},[s("b-field",{attrs:{label:"Title:"}},[s("b-input",{attrs:{placeholder:"Title",required:""},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}})],1),s("b-field",{attrs:{label:"Description:"}},[s("b-input",{attrs:{type:"textarea",placeholder:"Description",required:""},model:{value:t.post.description,callback:function(e){t.$set(t.post,"description",e)},expression:"post.description"}})],1),s("div",{staticClass:"file-upload"},[s("p",[t._v("Add an image < 10MB (Optional)")]),s("input",{attrs:{type:"file",id:"upload",hidden:"",accept:"image/*"},on:{change:t.getImage}}),s("label",{attrs:{for:"upload"}},[t._v("Choose an image")]),t.post.file[0]?s("small",{staticStyle:{margin:"0 5px"}},[t._v(" "+t._s(t.MessageForFile)+" "),s("span",{staticClass:"cross",on:{click:t.removeImage}},[s("b-icon",{attrs:{pack:"fa",icon:"times-circle",size:"is-medium"}})],1)]):t._e()]),s("b-field",{attrs:{label:"If your post includes any codes, please paste them here. (Optional)"}},[s("b-input",{attrs:{type:"textarea"},model:{value:t.post.codes,callback:function(e){t.$set(t.post,"codes",e)},expression:"post.codes"}})],1),s("button",{staticClass:"button submit"},[t._v("Submit")])],1):t._e(),s("div",{staticClass:"posts"},t._l(t.filteredPosts.slice().reverse(),(function(e,i){return s("div",{key:e.id,staticClass:"card is-4"},[e.URL?s("div",{staticClass:"card-image"},[s("figure",{staticClass:"posted-image"},[s("img",{attrs:{src:e.URL,alt:"Placeholder image"}})])]):t._e(),s("div",{staticClass:"card-content"},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-48x48"},[s("img",{attrs:{src:t.loadedUsersById[e.user_id].image,alt:"Avatar"}})])]),s("div",{staticClass:"media_content"},[s("p",{staticClass:"title is-4"},[t._v(t._s(e.title))]),s("p",{staticClass:"subtitle is-6"},[t._v(" "+t._s(t.loadedUsersById[e.user_id].name)+" "),s("br"),s("time",[t._v(t._s(t.getCreated(i)))])])])]),s("pre",{staticClass:"content"},[t._v("          "+t._s(e.description)+"\n          "),s("br"),t._v("\n        ")])]),s("div",{staticClass:"view"},[s("router-link",{staticClass:"button view-post submit",attrs:{to:{name:"post",params:{name:t.$route.params.name,post_id:e.id}}}},[t._v("View Post")]),s("span",{staticClass:"like-icon",class:{danger:e.vote.includes(t.user.id)}},[s("b-icon",{attrs:{pack:"fa",icon:"thumbs-up",size:"is-medium"}}),s("small",[t._v(t._s(e.vote.length))])],1),s("span",{staticClass:"like-icon"},[s("b-icon",{attrs:{pack:"fa",icon:"comment",size:"is-medium"}}),s("small",[t._v(t._s(e.comment_no))])],1)],1)])})),0),s("b-notification",{staticClass:"position-fixed",attrs:{type:"is-danger is-light","aria-close-label":"Close notification"},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[t._v(" Your post has been submitted. ")])],1)},pt=[],ft=(s("4d63"),s("25f0"),s("4de4"),s("466d"),{data:function(){return{MessageForFile:"",selectedPost:"",showForm:!1,searchTerm:"",isActive:!1,post:{file:[],title:"",description:"",codes:"",URL:""}}},mounted:function(){this.initUsers(),this.initBlog(this.$route.params.name)},watch:{"$route.params.name":function(){this.initBlog(this.$route.params.name)},blog:function(){this.blog.id&&this.initPost(this.blog.id)}},computed:Object(G["a"])(Object(G["a"])(Object(G["a"])(Object(G["a"])({},Object(c["d"])("blog",["posts","imageURL"])),Object(c["d"])("auth",["isLoggedIn","user"])),Object(c["c"])({blog:"blog/blog",usersById:"users/usersById"})),{},{loadedUsersById:function(){var t=this;return this.posts.reduce((function(e,s){return e[s.user_id]=t.usersById[s.user_id]||{name:"Loading...",image:"https://bulma.io/images/placeholders/48x48.png"},e}),{})},filteredPosts:function(){if(this.searchTerm){var t=new RegExp(this.searchTerm,"gi");return this.posts.filter((function(e){return(e.title+e.description).match(t)}))}return this.posts}}),methods:Object(G["a"])(Object(G["a"])(Object(G["a"])({},Object(c["b"])("blog",["createPost","initBlog","initPost","uploadImage"])),Object(c["b"])("users",{initUsers:"init"})),{},{onCreatePost:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.post.title&&t.post.description&&(t.createPost(t.post),t.post={file:[],title:"",description:""},t.showForm=!1,t.isActive=!t.isActive);case 1:case"end":return e.stop()}}),e)})))()},getCreated:function(t){function e(t){var e=Math.floor((new Date-t)/1e3),s=Math.floor(e/31536e3);return s>1?"".concat(s," years"):(s=Math.floor(e/2592e3),s>1?"".concat(s," months"):(s=Math.floor(e/86400),s>1?"".concat(s," days"):(s=Math.floor(e/3600),s>1?"".concat(s," hours"):(s=Math.floor(e/60),s>1?"".concat(s," minutes"):"".concat(Math.floor(e||0)," seconds")))))}var s=this.posts.slice().reverse();return e(1e3*s[t].created_at.seconds)<0?"0 seconds ago":"".concat(e(1e3*s[t].created_at.seconds)," ago")},getImage:function(t){t.target.files&&(console.log(t.target.files[0]),t.target.files[0].size<=10485760?(this.post.file.push(t.target.files[0]),this.MessageForFile=t.target.files[0].name):this.MessageForFile="Image size exceeded 10MB")},removeImage:function(){this.post.file=[],this.MessageForFile=""}})}),vt=ft,bt=(s("9d5a"),Object(st["a"])(vt,mt,pt,!1,null,null,null)),ht=bt.exports,gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"post-container"},[t.post[0]?s("div",{staticClass:"full_post"},[s("div",{staticClass:"options"},[t.user&&t.user.id==t.post[0].user_id?s("button",{staticClass:"button is-danger",on:{click:t.clickedEdit}},[t._v("Edit")]):t._e(),!t.user||t.user.id!=t.post[0].user_id&&"1knQIaLmRpVb0BDpomw5Kcz0rsW2"!=t.user.id?t._e():s("button",{staticClass:"button is-dark",on:{click:function(e){t.displayDeleteConfirm=!t.displayDeleteConfirm}}},[t._v(" Delete ")])]),t.ShowEdit&&t.isLoggedIn?s("div",{staticClass:"edit-post"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.onEditPost(t.updatedPost)}}},[s("b-field",{attrs:{label:"Title:"}},[s("b-input",{attrs:{placeholder:"Title",required:""},model:{value:t.updatedPost.title,callback:function(e){t.$set(t.updatedPost,"title",e)},expression:"updatedPost.title"}})],1),s("b-field",{attrs:{label:"Description:"}},[s("b-input",{attrs:{type:"textarea",placeholder:"Description",required:""},model:{value:t.updatedPost.description,callback:function(e){t.$set(t.updatedPost,"description",e)},expression:"updatedPost.description"}})],1),s("b-field",{attrs:{label:"If your post includes any codes, please paste them here. (Optional)"}},[s("b-input",{attrs:{type:"textarea"},model:{value:t.updatedPost.codes,callback:function(e){t.$set(t.updatedPost,"codes",e)},expression:"updatedPost.codes"}})],1),s("button",{staticClass:"button submit"},[t._v("Submit")]),s("span",{staticClass:"button cancel-edit is-dark",on:{click:function(e){t.confirmCancel=!0}}},[t._v("Cancel")])],1),t.confirmCancel?s("div",{staticClass:"block fixed delete-confirm"},[s("h1",{staticClass:"title is-6"},[t._v("Cancel editing?")]),s("button",{staticClass:"button yes",on:{click:t.cancelEdit}},[t._v("Yes")]),s("button",{staticClass:"button is-dark",on:{click:function(e){t.confirmCancel=!1}}},[t._v(" No ")])]):t._e()]):t._e(),t.displayDeleteConfirm?s("div",{staticClass:"fixed delete-confirm"},[s("h1",{staticClass:"title is-4"},[t._v("Are you sure you want to delete your post?")]),s("div",[s("button",{staticClass:"button yes",on:{click:function(e){return t.onDeletePost(t.post[0].id)}}},[t._v("Yes")]),s("button",{staticClass:"button is-dark",on:{click:function(e){t.displayDeleteConfirm=!t.displayDeleteConfirm}}},[t._v(" No ")])])]):t._e(),s("h1",{staticClass:"title text-center"},[t._v(t._s(t.post[0].title))]),t.post[0].URL?s("div",{staticClass:"card-image"},[s("figure",{staticClass:"posted-image"},[s("img",{staticClass:"full-img",attrs:{src:t.post[0].URL,alt:"ccitc blog-post image"}})])]):t._e(),s("pre",{staticClass:"content justify"},[t._v("      "+t._s(t.post[0].description.trim())+"\n    ")]),t.post[0].codes?s("div",{staticClass:"posted-codes"},[s("pre",[t._v(t._s(t.post[0].codes))])]):t._e(),s("div",{staticClass:"flex posted-by"},[s("span",[t._v("Posted by: ")]),s("figure",{staticClass:"image is-48x48"},[s("img",{attrs:{src:t.loadedUsersById[t.post[0].user_id].image,alt:"Avatar"}})]),s("p",[t._v(t._s(t.loadedUsersById[t.post[0].user_id].name))])]),s("div",{staticClass:"flex posted-at"},[s("time",[t._v(t._s(t.getCreated(t.post[0].created_at.seconds)))])]),s("hr"),s("div",{staticClass:"react_comment"},[s("div",{staticClass:"react"},[s("button",{staticClass:"button upvote",class:{"is-danger":t.votes},attrs:{disabled:!t.isLoggedIn},on:{click:function(e){return t.onUpvote()}}},[s("b-icon",{attrs:{pack:"fa",icon:"thumbs-up",size:"is-medium"}})],1),s("span",[t._v(t._s(t.post[0].vote.length))])]),s("form",{staticClass:"comment",on:{submit:function(e){return e.preventDefault(),t.onComment(t.comment)}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment.content,expression:"comment.content"}],attrs:{name:"comment",placeholder:"Write comment"},domProps:{value:t.comment.content},on:{input:function(e){e.target.composing||t.$set(t.comment,"content",e.target.value)}}}),s("button",{staticClass:"button is-dark",attrs:{disabled:!t.isLoggedIn}},[s("b-icon",{attrs:{pack:"fa",icon:"location-arrow",size:"is-medium"}})],1)])])]):t._e(),t.comments?s("div",{staticClass:"comment-section"},t._l(t.comments,(function(e){return s("pre",{key:e.id,staticClass:"_comment"},[t._v("      "),s("small",{staticClass:"commenter"},[t._v(t._s(e.commenter))]),t._v("\n      "),s("time",[t._v(t._s(t.getCreated(e.created_at.seconds)))]),t._v("\n      "),s("p",[t._v(t._s(e.content))]),t._v("\n      "),s("div",{staticClass:"delete-comment"},[t._v("\n        "),!t.user||t.user.id!=e.user_id&&"4aRnFohAFYQicirBV3Aa15rkKry2"!=t.user.id?t._e():s("button",{staticClass:"button is-small is-dark",on:{click:function(s){return t.onDisplayDeleteComment(e.id)}}},[t._v("\n          Delete\n        ")]),t._v("\n      ")]),t._v("\n      "),s("hr"),t._v("\n      "),t.displayDeleteComment&&t.selectedComment==e.id?s("div",{staticClass:"confirmDelete"},[t._v("\n        Are you sure you want delete this comment?\n        "),s("div",{staticClass:"buttons are-small"},[t._v("\n          "),s("button",{staticClass:"button is-danger is-outlined",on:{click:function(s){return t.onDeleteComment(e.id)}}},[t._v("\n            Yes\n          ")]),t._v("\n          "),s("button",{staticClass:"button is-success is-outlined",on:{click:function(e){t.displayDeleteComment=!1}}},[t._v("\n            No\n          ")]),t._v("\n        ")]),t._v("\n      ")]):t._e(),t._v("\n    ")])})),0):t._e(),s("b-notification",{staticClass:"position-fixed",attrs:{"auto-close":"",type:"is-dark is-outlined","aria-close-label":"Close notification"},model:{value:t.Notify,callback:function(e){t.Notify=e},expression:"Notify"}},[t._v(" "+t._s(t.notification_msg)+" ")])],1)},_t=[],Ct=(s("159b"),s("498a"),{data:function(){return{Notify:!1,notification_msg:"",ShowEdit:!1,confirmCancel:!1,selectedComment:"",displayDeleteConfirm:!1,displayDeleteComment:!1,updatedPost:{title:"",description:"",codes:"",id:""},comment:{post_id:"",content:""}}},mounted:function(){this.initUsers(),this.fullPost(this.$route.params.post_id)},watch:{post:function(){this.post[0]&&(this.initComment(this.post[0].id),this.comment.post_id=this.post[0].id)}},computed:Object(G["a"])(Object(G["a"])(Object(G["a"])(Object(G["a"])(Object(G["a"])({},Object(c["c"])({usersById:"users/usersById",post:"comments/post"})),Object(c["d"])("auth",["isLoggedIn","user"])),Object(c["d"])("post",["post","votes"])),Object(c["d"])("comments",["comments"])),{},{loadedUsersById:function(){var t=this;return this.post.reduce((function(e,s){return e[s.user_id]=t.usersById[s.user_id]?t.usersById[s.user_id]:{name:"  Loading...",image:"https://bulma.io/images/placeholders/48x48.png"},e}),{})}}),methods:Object(G["a"])(Object(G["a"])(Object(G["a"])(Object(G["a"])(Object(G["a"])({},Object(c["b"])("post",["fullPost","upvote","editPost"])),Object(c["b"])("blog",["deletePost","IncrementComment","decrementComment","deleteImage"])),Object(c["b"])("users",{initUsers:"init"})),Object(c["b"])("comments",["doComment","initComment","deleteComment"])),{},{onDeletePost:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e.post[0].URL||!e.post[0].URL.includes("https://firebasestorage.googleapis.com")){s.next=3;break}return s.next=3,e.deleteImage(e.post[0]);case 3:e.displayDeleteConfirm=!1,e.comments.forEach((function(t){e.deleteComment(t.id)})),e.deletePost(t),e.Notify=!0,e.notification_msg="Post has been deleted";case 8:case"end":return s.stop()}}),s)})))()},onComment:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.comment.content.trim()&&(t.doComment(t.comment),t.comment={content:"",post_id:t.post[0].id},t.IncrementComment(t.post[0].id));case 1:case"end":return e.stop()}}),e)})))()},onDisplayDeleteComment:function(t){this.selectedComment=t,this.displayDeleteComment=!this.displayDeleteComment},onDeleteComment:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.Notify=!0,s.prev=1,e.displayDeleteComment=!e.displayDeleteComment,s.next=5,e.deleteComment(t);case 5:e.notification_msg="comment has deleted",e.decrementComment(e.post[0].id),s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](1),console.log(s.t0);case 12:case"end":return s.stop()}}),s,null,[[1,9]])})))()},onUpvote:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.upvote(t.post[0].id);case 1:case"end":return e.stop()}}),e)})))()},getCreated:function(t){function e(t){var e=Math.floor((new Date-t)/1e3),s=Math.floor(e/31536e3);return s>1?"".concat(s," years"):(s=Math.floor(e/2592e3),s>1?"".concat(s," months"):(s=Math.floor(e/86400),s>1?"".concat(s," days"):(s=Math.floor(e/3600),s>1?"".concat(s," hours"):(s=Math.floor(e/60),s>1?"".concat(s," minutes"):"".concat(Math.floor(e||0)," seconds")))))}return e(1e3*t)<0?"0 seconds ago":"".concat(e(1e3*t)," ago")},clickedEdit:function(){this.ShowEdit=!0,this.updatedPost.id=this.post[0].id,this.updatedPost.title=this.post[0].title,this.updatedPost.description=this.post[0].description,this.updatedPost.codes=this.post[0].codes,this.updatedPost.URL=this.post[0].URL},cancelEdit:function(){this.ShowEdit=!1,this.confirmCancel=!1},onEditPost:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e.post[0].title.trim()!==t.title.trim()||e.post[0].description.trim()!==t.description.trim()||e.post[0].URL.trim()!==t.URL.trim()||e.post[0].codes.trim()!==t.codes.trim()){e.Notify=!0;try{e.editPost(t),e.notification_msg="Post has been updated"}catch(i){e.notification_msg=i}finally{e.ShowEdit=!1}}else e.Notify=!0,e.notification_msg="No changes were made";case 1:case"end":return s.stop()}}),s)})))()}})}),yt=Ct,wt=(s("1e81"),Object(st["a"])(yt,gt,_t,!1,null,null,null)),kt=wt.exports,Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"h100"},[t.authenticated?t._e():s("div",{staticClass:"container full-page"},[s("h4",{staticClass:"title is-4"},[t._v("Admin Panel")]),s("form",{staticClass:"display-black",on:{submit:function(e){return e.preventDefault(),t.onProceed(e)}}},[t.user&&"1knQIaLmRpVb0BDpomw5Kcz0rsW2"==t.user.id?s("div",{staticClass:"admin"},[s("p",[t._v("Welcome, "+t._s(t.user.name))])]):t._e(),"1knQIaLmRpVb0BDpomw5Kcz0rsW2"!=t.user.id?s("div",[t._m(0),s("input",{staticClass:"input",attrs:{id:"email",type:"email",placeholder:"Email"}})]):t._e(),t._m(1),s("p",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.key,expression:"userData.key"}],staticClass:"input",attrs:{id:"key",type:"password",placeholder:"key"},domProps:{value:t.userData.key},on:{input:function(e){e.target.composing||t.$set(t.userData,"key",e.target.value)}}}),t._m(2)]),t.errorMsg?s("small",{staticStyle:{color:"red"}},[t._v(t._s(t.errorMsg))]):t._e(),s("button",{staticClass:"button proceed"},[t._v("Proceed")])])]),t.authenticated&&t.user?s("div",{staticClass:"admin-panel container"},[s("h1",{staticClass:"title"},[t._v("Administrative Panel")]),s("p",{staticClass:"pending-heading"},[t._v("Pending posts")]),s("div",{staticClass:"posts"},t._l(t.posts.slice().reverse(),(function(e,i){return s("div",{key:e.id,staticClass:"card is-4"},[e.URL?s("div",{staticClass:"card-image"},[s("figure",{staticClass:"posted-image"},[s("img",{attrs:{src:e.URL,alt:"Placeholder image"}})])]):t._e(),s("div",{staticClass:"card-content"},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-48x48"},[s("img",{attrs:{src:t.loadedUsersById[e.user_id].image,alt:"Avatar"}})])]),s("div",{staticClass:"media_content"},[s("p",{staticClass:"title is-4"},[t._v(t._s(e.title))]),s("p",{staticClass:"subtitle is-6"},[t._v(" "+t._s(t.loadedUsersById[e.user_id].name)+" "),s("br"),s("time",[t._v(t._s(t.getCreated(i)))])])])]),s("pre",{staticClass:"content"},[t._v("          "+t._s(e.description)+"\n          "),s("br"),t._v("\n        ")])]),s("div",{staticClass:"view"},[s("router-link",{staticClass:"button view-post submit",attrs:{to:{name:"post",params:{name:"pending",post_id:e.id}}}},[t._v("View Post")]),s("span",{staticClass:"like-icon",class:{danger:e.vote.includes(t.user.id)}},[s("b-icon",{attrs:{pack:"fa",icon:"thumbs-up",size:"is-medium"}}),s("small",[t._v(t._s(e.vote.length))])],1),s("span",{staticClass:"like-icon"},[s("b-icon",{attrs:{pack:"fa",icon:"comment",size:"is-medium"}}),s("small",[t._v(t._s(e.comment_no))])],1),t.user&&"1knQIaLmRpVb0BDpomw5Kcz0rsW2"==t.user.id?s("button",{staticClass:"button is-success",on:{click:function(s){return t.onApprovePost(e.id)}}},[t._v(" Approve")]):t._e()],1)])})),0)]):t._e()])},jt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"email"}},[s("small",[t._v("Email:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"key"}},[s("small",[t._v("Auth key:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-small is-left"},[s("i",{staticClass:"fa fa-lock"})])}],xt={data:function(){return{authenticated:!1,errorMsg:"",userData:{user_id:"",key:""}}},mounted:function(){this.initUsers(),this.initAdmin(),this.initPendingPost()},watch:{"$route.params.name":function(){}},computed:Object(G["a"])(Object(G["a"])(Object(G["a"])(Object(G["a"])({},Object(c["d"])("auth",["user","isLoggedIn"])),Object(c["d"])("admin",["admin","posts"])),Object(c["c"])({usersById:"users/usersById"})),{},{loadedUsersById:function(){var t=this;return this.posts.reduce((function(e,s){return e[s.user_id]=t.usersById[s.user_id]||{name:"Loading...",image:"https://bulma.io/images/placeholders/48x48.png"},e}),{})}}),methods:Object(G["a"])(Object(G["a"])(Object(G["a"])({},Object(c["b"])("admin",["initAdmin","initPendingPost","approvePost"])),Object(c["b"])("users",{initUsers:"init"})),{},{onProceed:function(){this.userData.key&&(this.userData.user_id=this.user.id,this.userData.key===this.admin[0].key&&this.userData.user_id===this.admin[0].user_id?this.authenticated=!0:this.errorMsg="Wrong authentication key")},getCreated:function(t){function e(t){var e=Math.floor((new Date-t)/1e3),s=Math.floor(e/31536e3);return s>1?"".concat(s," years"):(s=Math.floor(e/2592e3),s>1?"".concat(s," months"):(s=Math.floor(e/86400),s>1?"".concat(s," days"):(s=Math.floor(e/3600),s>1?"".concat(s," hours"):(s=Math.floor(e/60),s>1?"".concat(s," minutes"):"".concat(Math.floor(e||0)," seconds")))))}var s=this.posts.slice().reverse();return e(1e3*s[t].created_at.seconds)<0?"0 seconds ago":"".concat(e(1e3*s[t].created_at.seconds)," ago")},onApprovePost:function(t){this.approvePost(t)}})},It=xt,Pt=(s("0156"),Object(st["a"])(It,Ot,jt,!1,null,null,null)),Rt=Pt.exports;i["a"].use(nt["a"]);var Dt=[{path:"/",name:"Blogs",component:dt},{path:"/b/admin",name:"admin",component:Rt},{path:"/b/:name",name:"Blog",component:ht},{path:"/b/:name/:post_id",name:"post",component:kt}],Ut=new nt["a"]({mode:"history",base:"/",routes:Dt}),Lt=Ut;i["a"].use(a["a"]),i["a"].config.productionTip=!1,new i["a"]({router:Lt,store:q,render:function(t){return t(at)}}).$mount("#app")},"85ec":function(t,e,s){},"9d5a":function(t,e,s){"use strict";s("b198")},ae07:function(t,e,s){},b198:function(t,e,s){},ea9c:function(t,e,s){"use strict";s("ae07")}});
//# sourceMappingURL=app.e30d5707.js.map